{"version":3,"sources":["firebase.js","components/Login.js","components/SidebarListItem.js","components/SidebarList.js","components/Sidebar.js","hooks/useRooms.js","hooks/useUsers.js","hooks/useChats.js","components/AudioPlayer.js","components/ChatMessages.js","components/recordAudio.js","components/ChatFooter.js","components/MediaPreview.js","components/Chat.js","hooks/useChatMessages.js","hooks/useRoom.js","App.js","hooks/useWindowSize.js","hooks/useAuthUser.js","index.js"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","provider","GoogleAuthProvider","storage","ref","audioStorage","createTimestamp","FieldValue","serverTimestamp","database","ServerValue","TIMESTAMP","Login","className","src","alt","Button","onClick","signInWithRedirect","SidebarListItem","item","to","id","Avatar","style","width","height","photoURL","name","SidebarList","title","data","length","map","SearchOutlined","CancelOutlined","CircularProgress","Sidebar","Nav","user","page","rooms","useCollection","collection","orderBy","snapshot","docs","doc","userID","useRooms","users","forEach","uid","push","useUsers","chats","useChats","React","useState","searchResults","setSearchResults","menu","setMenu","event","a","preventDefault","query","target","elements","search","value","where","get","userSnapshot","roomSnapshot","userResults","roomResults","isMobile","NavLink","props","activeClass","children","minHeight","displayName","IconButton","signOut","ExitToApp","onSubmit","placeholder","type","activeClassName","Home","Message","PeopleAlt","path","roomName","prompt","trim","add","timestamp","Add","AudioPlayer","sender","audioUrl","setAudioId","audioId","isPlaying","setPlaying","isMediaLoaded","setMediaLoaded","isLoaded","setLoaded","isMetadataLoaded","setMetadataLoaded","sliderValue","setSliderValue","duration","setDuration","totalDuration","useRef","audio","Audio","interval","isUploading","formatTime","time","minutes","Math","floor","seconds","updateSlider","current","currentTime","useEffect","load","media","Promise","resolve","onloadedmetadata","Number","MAX_SAFE_INTEGER","ontimeupdate","then","addEventListener","clearInterval","pause","PauseRounded","PlayArrowRounded","play","setInterval","min","max","onChange","seekTo","ChatMessages","messages","roomId","message","isSender","imageUrl","audioName","recordAudio","navigator","mediaDevices","getUserMedia","stream","mediaRecorder","MediaRecorder","audioChunks","start","stop","uuid","audioFile","File","URL","createObjectURL","ChatFooter","input","sendMessage","image","room","isRecording","setRecording","timerInterval","recordingEl","record","inputRef","focus","pad","String","stopRecording","opacity","sendAudio","set","Date","toUTCString","child","put","getDownloadURL","url","update","now","setTime","timeElapsed","totalSeconds","parseInt","startTimer","btnIcons","Send","color","MicRounded","canRecord","window","onKeyPress","htmlFor","display","accept","capture","files","CancelRounded","CheckCircleRounded","MediaPreview","closePreview","CloseRounded","Chat","setImage","setInput","isDeleting","setDeleting","openMenu","setOpenMenu","setSrc","useParams","history","useHistory","useChatMessages","userId","isUserRoom","includes","replace","useDocument","useRoom","imageName","newMessage","Compressor","quality","maxWidth","success","result","roomRef","roomMessages","audioFiles","imageFiles","all","delete","console","error","goBack","ArrowBack","file","reader","FileReader","readAsDataURL","onload","cursor","AddPhotoAlternate","currentTarget","MoreVert","Menu","anchorEl","open","Boolean","onClose","keepMounted","MenuItem","App","undefined","windowSize","setWindowSize","handleResize","innerHeight","innerWidth","currentRatio","ratio","transform","removeEventListener","useWindowSize","useAuthState","exists","useAuthUser","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5f9d07bf.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\nimport \"firebase/database\";\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDOg355c9o9a1CEIHfiCvcdXStSTowUJ3Q\",\n  authDomain: \"whatsapp-clone-e704d.firebaseapp.com\",\n  projectId: \"whatsapp-clone-e704d\",\n  storageBucket: \"whatsapp-clone-e704d.appspot.com\",\n  messagingSenderId: \"896859430912\",\n  appId: \"1:896859430912:web:6d10b96bbcd6dad3eef8e5\",\n};\n// Initialize Firebase\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\nconst auth = firebaseApp.auth();\nconst provider = new firebase.auth.GoogleAuthProvider();\nconst storage = firebase.storage().ref(\"images\");\nconst audioStorage = firebase.storage().ref(\"audios\");\nconst createTimestamp = firebase.firestore.FieldValue.serverTimestamp;\nconst serverTimestamp = firebase.database.ServerValue.TIMESTAMP;\n\nexport { db, auth, provider, storage, audioStorage, createTimestamp, serverTimestamp };\n","import { Button } from \"@material-ui/core\";\nimport \"./Login.css\";\nimport { auth, provider } from \"../firebase\";\n\nexport default function Login() {\n  function login() {\n    auth.signInWithRedirect(provider);\n  }\n\n  return (\n    <div className=\"app\">\n      <div className=\"login\">\n        <div className=\"login__container\">\n          <img src=\"./login-logo.png\" alt=\"Logo\" />\n          <div className=\"login__text\">\n            <h1>Sign in to WhatsApp</h1>\n          </div>\n          <Button onClick={login}>Sign in with Google</Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { Avatar } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\n\nexport default function SidebarListItem({ item }) {\n  return (\n    <Link className=\"link\" to={`/room/${item.id}`}>\n      <div className=\"sidebar__chat\">\n        <div className=\"avatar__container\">\n          <Avatar\n            style={{\n              width: 45,\n              height: 45,\n            }}\n            src={\n              item.photoURL ||\n              `https://avatars.dicebear.com/api/human/${item.id}.svg`\n            }\n          />\n        </div>\n        <div className=\"sidebar__chat--info\">\n          <h2>{item.name}</h2>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","import { CircularProgress } from \"@material-ui/core\";\nimport { CancelOutlined, SearchOutlined } from \"@material-ui/icons\";\nimport SidebarListItem from \"./SidebarListItem\";\nimport \"./SidebarList.css\";\n\nexport default function SidebarList({ title, data }) {\n  if (!data) {\n    return (\n      <div className=\"loader__container sidebar__loader\">\n        <CircularProgress />\n      </div>\n    );\n  }\n\n  if (!data.length && title === \"Search Results\") {\n    return (\n      <div className=\"no-result\">\n        <div>\n          <SearchOutlined />\n          <div className=\"cancel-root\">\n            <CancelOutlined />\n          </div>\n        </div>\n        <h2>No {title}</h2>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"sidebar__chat--container\">\n      <h2>{title}</h2>\n      {data.map((item) => (\n        <SidebarListItem key={item.id} item={item} />\n      ))}\n    </div>\n  );\n}\n","import { Avatar, IconButton } from \"@material-ui/core\";\nimport {\n  Add,\n  ExitToApp,\n  Home,\n  Message,\n  PeopleAlt,\n  SearchOutlined,\n} from \"@material-ui/icons\";\nimport React from \"react\";\nimport SidebarList from \"./SidebarList\";\nimport { auth, createTimestamp, db } from \"../firebase\";\nimport \"./Sidebar.css\";\nimport { NavLink, Switch, Route } from \"react-router-dom\";\nimport useRooms from \"../hooks/useRooms\";\nimport useUsers from \"../hooks/useUsers\";\nimport useChats from \"../hooks/useChats\";\n\nexport default function Sidebar({ user, page }) {\n  const rooms = useRooms();\n  const users = useUsers(user);\n  const chats = useChats(user);\n\n  const [searchResults, setSearchResults] = React.useState([]);\n  const [menu, setMenu] = React.useState(1);\n\n  function signOut() {\n    auth.signOut();\n  }\n\n  function createRoom() {\n    const roomName = prompt(\"Type the name of your room\");\n\n    if (roomName.trim()) {\n      db.collection(\"rooms\").add({\n        name: roomName,\n        timestamp: createTimestamp(),\n      });\n    }\n  }\n\n  async function searchUsersAndRooms(event) {\n    event.preventDefault();\n    const query = event.target.elements.search.value;\n    const userSnapshot = await db\n      .collection(\"users\")\n      .where(\"name\", \"==\", query)\n      .get();\n    const roomSnapshot = await db\n      .collection(\"rooms\")\n      .where(\"name\", \"==\", query)\n      .get();\n    const userResults = userSnapshot.docs.map((doc) => ({\n      id: doc.id,\n      ...doc.data(),\n    }));\n    const roomResults = roomSnapshot.docs.map((doc) => ({\n      id: doc.id,\n      ...doc.data(),\n    }));\n    const searchResults = [...userResults, ...roomResults];\n    setMenu(4);\n    setSearchResults(searchResults);\n  }\n\n  let Nav;\n  if (page.isMobile) {\n    Nav = NavLink;\n  } else {\n    Nav = (props) => (\n      <div\n        className={`${props.activeClass ? \"sidebar__menu--selected\" : \"\"}`}\n        onClick={props.onClick}\n      >\n        {props.children}\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className=\"sidebar\"\n      style={{\n        minHeight: page.isMobile ? page.height : \"auto\",\n      }}\n    >\n      <div className=\"sidebar__header\">\n        <div className=\"sidebar__header--left\">\n          <Avatar src={user?.photoURL} />\n          <h4>{user?.displayName}</h4>\n        </div>\n        <div className=\"sidebar__header--right\">\n          <IconButton onClick={signOut}>\n            <ExitToApp />\n          </IconButton>\n        </div>\n      </div>\n\n      <div className=\"sidebar__search\">\n        <form\n          onSubmit={searchUsersAndRooms}\n          className=\"sidebar__search--container\"\n        >\n          <SearchOutlined />\n          <input\n            placeholder=\"Search for users or rooms\"\n            type=\"text\"\n            id=\"search\"\n          />\n        </form>\n      </div>\n\n      <div className=\"sidebar__menu\">\n        <Nav\n          to=\"/chats\"\n          activeClassName=\"sidebar__menu--selected\"\n          onClick={() => setMenu(1)}\n          activeClass={menu === 1}\n        >\n          <div className=\"sidebar__menu--home\">\n            <Home />\n            <div className=\"sidebar__menu--line\" />\n          </div>\n        </Nav>\n        <Nav\n          to=\"/rooms\"\n          activeClassName=\"sidebar__menu--selected\"\n          onClick={() => setMenu(2)}\n          activeClass={menu === 2}\n        >\n          <div className=\"sidebar__menu--rooms\">\n            <Message />\n            <div className=\"sidebar__menu--line\" />\n          </div>\n        </Nav>\n        <Nav\n          to=\"/users\"\n          activeClassName=\"sidebar__menu--selected\"\n          onClick={() => setMenu(3)}\n          activeClass={menu === 3}\n        >\n          <div className=\"sidebar__menu--users\">\n            <PeopleAlt />\n            <div className=\"sidebar__menu--line\" />\n          </div>\n        </Nav>\n      </div>\n\n      {page.isMobile ? (\n        <Switch>\n          <Route path=\"/chats\">\n            <SidebarList title=\"Chats\" data={chats} />\n          </Route>\n          <Route path=\"/rooms\">\n            <SidebarList title=\"Rooms\" data={rooms} />\n          </Route>\n          <Route path=\"/users\">\n            <SidebarList title=\"Users\" data={users} />\n          </Route>\n          <Route path=\"/search\">\n            <SidebarList title=\"Search Results\" data={searchResults} />\n          </Route>\n        </Switch>\n      ) : menu === 1 ? (\n        <SidebarList title=\"Chats\" data={chats} />\n      ) : menu === 2 ? (\n        <SidebarList title=\"Rooms\" data={rooms} />\n      ) : menu === 3 ? (\n        <SidebarList title=\"Users\" data={users} />\n      ) : menu === 4 ? (\n        <SidebarList title=\"Search Results\" data={searchResults} />\n      ) : null}\n\n      <div className=\"sidebar__chat--addRoom\">\n        <IconButton onClick={createRoom}>\n          <Add />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n","import { useCollection } from \"react-firebase-hooks/firestore\";\nimport { db } from \"../firebase\";\n\nexport default function useRooms() {\n  const [snapshot] = useCollection(\n    db.collection(\"rooms\").orderBy(\"timestamp\", \"desc\")\n  );\n\n  const rooms = snapshot?.docs.map((doc) => ({\n    id: doc.id,\n    userID: doc.id,\n    ...doc.data(),\n  }));\n\n  return rooms;\n}\n","import { db } from \"../firebase\";\nimport { useCollection } from \"react-firebase-hooks/firestore\";\n\nexport default function useUsers(user) {\n  const [snapshot] = useCollection(\n    db.collection(\"users\").orderBy(\"timestamp\", \"desc\")\n  );\n\n  const users = [];\n\n  if (user) {\n    snapshot?.docs.forEach((doc) => {\n      const id =\n        doc.id > user.uid ? `${doc.id}${user.uid}` : `${user.uid}${doc.id}`;\n\n      if (doc.id !== user.uid) {\n        users.push({\n          id,\n          userID: doc.id,\n          ...doc.data(),\n        });\n      }\n    });\n  }\n\n  return users;\n}\n","import { useCollection } from \"react-firebase-hooks/firestore\";\nimport { db } from \"../firebase\";\n\nexport default function useChats(user) {\n  const [snapshot] = useCollection(\n    user\n      ? db\n          .collection(\"users\")\n          .doc(user.uid)\n          .collection(\"chats\")\n          .orderBy(\"timestamp\", \"desc\")\n      : null\n  );\n\n  const chats = snapshot?.docs.map((doc) => ({\n    id: doc.id,\n    ...doc.data(),\n  }));\n\n  return chats;\n}\n","import { CircularProgress } from \"@material-ui/core\";\nimport { PauseRounded, PlayArrowRounded } from \"@material-ui/icons\";\nimport React from \"react\";\nimport \"./AudioPlayer.css\";\n\nexport default function AudioPlayer({ sender, audioUrl, id, setAudioId, audioId }) {\n  const [isPlaying, setPlaying] = React.useState(false);\n  const [isMediaLoaded, setMediaLoaded] = React.useState(false);\n  const [isLoaded, setLoaded] = React.useState(false);\n  const [isMetadataLoaded, setMetadataLoaded] = React.useState(false);\n  const [sliderValue, setSliderValue] = React.useState(0);\n  const [duration, setDuration] = React.useState(\"\");\n\n  const totalDuration = React.useRef(\"\");\n  const audio = React.useRef(new Audio(audioUrl));\n  const interval = React.useRef();\n  const isUploading = React.useRef(audioUrl === \"uploading\");\n\n  React.useEffect(() => {\n    if (isUploading.current && audioUrl !== \"uploading\") {\n      audio.current = new Audio(audioUrl);\n      audio.current.load();\n      setLoaded(true);\n    } else if (isUploading.current === false) {\n      setLoaded(true);\n    }\n  }, [audioUrl]);\n\n  function getAudioDuration(media) {\n    return new Promise(resolve => {\n      media.onloadedmetadata = () => {\n        media.currentTime = Number.MAX_SAFE_INTEGER;\n\n        media.ontimeupdate = () => {\n          media.ontimeupdate = () => {};\n          media.currentTime = 0.1;\n          resolve(media.duration);\n        };\n      };\n    });\n  }\n\n  React.useEffect(() => {\n    if (isLoaded) {\n      getAudioDuration(audio.current).then(() => {\n        setMetadataLoaded(true);\n      });\n    }\n  }, [isLoaded]);\n\n  React.useEffect(() => {\n    if (isMetadataLoaded) {\n      audio.current.addEventListener(\"canplaythrough\", () => {\n        if (!totalDuration.current) {\n          setMediaLoaded(true);\n          const time = formatTime(audio.current.duration);\n          totalDuration.current = time;\n          setDuration(totalDuration.current);\n        }\n      });\n\n      audio.current.addEventListener(\"ended\", () => {\n        clearInterval(interval.current);\n        setDuration(totalDuration.current);\n        setSliderValue(0);\n        setPlaying(false);\n      });\n    }\n  }, [isMetadataLoaded]);\n\n  function formatTime(time) {\n    let minutes = Math.floor(time / 60);\n    let seconds = Math.floor(time - minutes * 60);\n\n    if (minutes < 10) {\n      minutes = `0${minutes}`;\n    }\n    if (seconds < 10) {\n      seconds = `0${seconds}`;\n    }\n\n    return `${minutes}:${seconds}`;\n  }\n\n  function playAudio() {\n    setPlaying(true);\n    audio.current.play();\n    if (audioId !== id) {\n      setAudioId(id);\n    }\n    interval.current = setInterval(updateSlider, 100);\n  }\n\n  function updateSlider() {\n    let sliderPosition = 0;\n\n    const { currentTime, duration } = audio.current;\n    if (typeof duration === \"number\") {\n      sliderPosition = currentTime * (100 / duration);\n      setSliderValue(sliderPosition);\n      const time = formatTime(currentTime);\n      setDuration(time);\n    }\n  }\n\n  function stopAudio() {\n    audio.current.pause();\n    clearInterval(interval.current);\n    setPlaying(false);\n    setDuration(totalDuration.current);\n  }\n\n  function scrubAudio(event) {\n    const value = event.target.value;\n    const { duration } = audio.current;\n\n    if (isMediaLoaded) {\n      const seekTo = duration * (value / 100);\n      audio.current.currentTime = seekTo;\n      setSliderValue(value);\n    }\n  }\n\n  React.useEffect(() => {\n    if (audioId !== id) {\n      audio.current.pause();\n      setPlaying(false);\n    }\n  }, [audioId, id]);\n\n  return (\n    <>\n      <div className={`audioplayer ${sender ? \"\" : \"audioplayer__alt\"}`}>\n        {!isMediaLoaded ? <CircularProgress /> : isPlaying ? <PauseRounded onClick={stopAudio} className='pause' /> : !isPlaying ? <PlayArrowRounded onClick={playAudio} /> : null}\n        <div>\n          <span style={{ width: `${sliderValue}%` }} className='audioplayer__slider--played' />\n          <input type='range' min='1' max='100' value={sliderValue} onChange={scrubAudio} className='audioplayer__slider' />\n        </div>\n      </div>\n      <span className='chat__timestamp audioplayer__time'>{duration}</span>\n    </>\n  );\n}\n","import { CircularProgress } from \"@material-ui/core\";\nimport AudioPlayer from \"./AudioPlayer\";\n\nexport default function ChatMessages({\n  messages,\n  user,\n  roomId,\n  audioId,\n  setAudioId,\n}) {\n  if (!messages) return null;\n\n  return messages.map((message) => {\n    const isSender = message.uid === user.uid;\n\n    return (\n      <div\n        key={message.id}\n        className={`chat__message ${isSender ? \"chat__message--sender\" : \"\"}`}\n      >\n        <span className=\"chat__name\">{message.name}</span>\n\n        {message.imageUrl === \"uploading\" ? (\n          <div className=\"image-container\">\n            <div className=\"image__container--loader\">\n              <CircularProgress\n                style={{\n                  width: 40,\n                  height: 40,\n                }}\n              />\n            </div>\n          </div>\n        ) : message.imageUrl ? (\n          <div className=\"image-container\">\n            <img src={message.imageUrl} alt={message.name} />\n          </div>\n        ) : null}\n\n        {message.audioName ? (\n          <AudioPlayer\n            sender={isSender}\n            roomId={roomId}\n            id={message.id}\n            audioUrl={message.audioUrl}\n            audioId={audioId}\n            setAudioId={setAudioId}\n          />\n        ) : (\n          <span className=\"chat__message--message\">{message.message}</span>\n        )}\n\n        <span className=\"chat__timestamp\">{message.time}</span>\n      </div>\n    );\n  });\n}\n","import { v4 as uuid } from \"uuid\";\n\nexport default function recordAudio() {\n  return new Promise(resolve => {\n    navigator.mediaDevices.getUserMedia({ audio: true }).then(stream => {\n      const mediaRecorder = new MediaRecorder(stream);\n      const audioChunks = [];\n\n      mediaRecorder.addEventListener(\"dataavailable\", event => {\n        audioChunks.push(event.data);\n      });\n\n      function start() {\n        mediaRecorder.start();\n      }\n\n      function stop() {\n        return new Promise(resolve => {\n          mediaRecorder.addEventListener(\"stop\", () => {\n            const audioName = uuid();\n            const audioFile = new File(audioChunks, audioName, {\n              type: \"audio/mpeg\",\n            });\n            const audioUrl = URL.createObjectURL(audioFile);\n            const audio = new Audio(audioUrl);\n            function play() {\n              audio.play();\n            }\n\n            resolve({ audioFile, audioUrl, play, audioName });\n          });\n\n          mediaRecorder.stop();\n        });\n      }\n\n      resolve({ start, stop });\n    });\n  });\n}\n","import { CancelRounded, CheckCircleRounded, MicRounded, Send } from \"@material-ui/icons\";\nimport React from \"react\";\nimport { createTimestamp, db, audioStorage } from \"../firebase\";\nimport { v4 as uuid } from \"uuid\";\nimport \"./ChatFooter.css\";\nimport recordAudio from \"./recordAudio\";\n\nexport default function ChatFooter({ input, onChange, sendMessage, image, user, room, roomId, setAudioId }) {\n  const [isRecording, setRecording] = React.useState(false);\n  const [duration, setDuration] = React.useState(\"00:00\");\n\n  const timerInterval = React.useRef();\n  const recordingEl = React.useRef();\n  const record = React.useRef();\n  const inputRef = React.useRef();\n\n  async function startRecording(event) {\n    event.preventDefault();\n    record.current = await recordAudio();\n    inputRef.current.focus();\n    inputRef.current.style.width = \"calc(100% - 56px)\";\n    setRecording(true);\n    setAudioId(\"\");\n  }\n\n  React.useEffect(() => {\n    if (isRecording) {\n      recordingEl.current.style.opacity = \"1\";\n      startTimer();\n      record.current.start();\n    }\n\n    function startTimer() {\n      const start = Date.now();\n      timerInterval.current = setInterval(setTime, 100);\n\n      function setTime() {\n        const timeElapsed = Date.now() - start;\n        const totalSeconds = Math.floor(timeElapsed / 1000);\n        const minutes = pad(parseInt(totalSeconds / 60));\n        const seconds = pad(parseInt(totalSeconds % 60));\n        const duration = `${minutes}:${seconds}`;\n        setDuration(duration);\n      }\n    }\n  }, [isRecording]);\n\n  function pad(value) {\n    return String(value).length < 2 ? `0${value}` : value;\n  }\n\n  async function stopRecording() {\n    inputRef.current.focus();\n    clearInterval(timerInterval.current);\n    const audio = record.current.stop();\n    recordingEl.current.style.opacity = \"0\";\n    setRecording(false);\n    inputRef.current.style.width = \"calc(100% - 112px)\";\n    setDuration(\"00:00\");\n    return audio;\n  }\n\n  async function finishRecording() {\n    const audio = await stopRecording();\n    const { audioFile, audioName } = await audio;\n    sendAudio(audioFile, audioName);\n  }\n\n  async function sendAudio(audioFile, audioName) {\n    db.collection(\"users\")\n      .doc(user.uid)\n      .collection(\"chats\")\n      .doc(roomId)\n      .set({\n        name: room.name,\n        photoURL: room.photoURL || null,\n        timestamp: createTimestamp(),\n      });\n\n    const doc = await db.collection(\"rooms\").doc(roomId).collection(\"messages\").add({\n      name: user.displayName,\n      uid: user.uid,\n      timestamp: createTimestamp(),\n      time: new Date().toUTCString(),\n      audioUrl: \"uploading\",\n      audioName,\n    });\n\n    await audioStorage.child(audioName).put(audioFile);\n    const url = await audioStorage.child(audioName).getDownloadURL();\n    db.collection(\"rooms\").doc(roomId).collection(\"messages\").doc(doc.id).update({\n      audioUrl: url,\n    });\n  }\n\n  function audioInputChange(event) {\n    const audioFile = event.target.files[0];\n\n    if (audioFile) {\n      setAudioId(\"\");\n      sendAudio(audioFile, uuid());\n    }\n  }\n\n  const btnIcons = (\n    <>\n      <Send\n        style={{\n          width: 20,\n          height: 20,\n          color: \"white\",\n        }}\n      />\n      <MicRounded\n        style={{\n          width: 24,\n          height: 24,\n          color: \"white\",\n        }}\n      />\n    </>\n  );\n\n  const canRecord = navigator.mediaDevices.getUserMedia && window.MediaRecorder;\n\n  return (\n    <div className='chat__footer'>\n      <form>\n        <input ref={inputRef} value={input} onChange={!isRecording ? onChange : null} onKeyPress={isRecording ? () => false : null} placeholder='Type a message' />\n\n        {canRecord ? (\n          <button onClick={input.trim() || (input === \"\" && image) ? sendMessage : startRecording} type='submit' className='send__btn'>\n            {btnIcons}\n          </button>\n        ) : (\n          <>\n            <label htmlFor='capture' className='send__btn'>\n              {btnIcons}\n            </label>\n            <input style={{ display: \"none\" }} type='file' id='capture' accept='audio/*' capture onChange={audioInputChange} />\n          </>\n        )}\n      </form>\n\n      {isRecording && (\n        <div ref={recordingEl} className='record'>\n          <CancelRounded\n            style={{\n              width: 30,\n              height: 30,\n              color: \"#f20519\",\n            }}\n            onClick={stopRecording}\n          />\n          <div>\n            <div className='record__redcircle' />\n            <div className='record__duration'>{duration}</div>\n          </div>\n          <CheckCircleRounded\n            style={{\n              width: 30,\n              height: 30,\n              color: \"#41bf49\",\n            }}\n            onClick={finishRecording}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","import \"./MediaPreview.css\";\nimport { CloseRounded } from \"@material-ui/icons\";\n\nexport default function MediaPreview({ src, closePreview }) {\n  if (!src) return null;\n\n  return (\n    <div className=\"mediaPreview\">\n      <CloseRounded onClick={closePreview} />\n      <img src={src} alt=\"Preview\" />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport \"./Chat.css\";\nimport useRoom from \"../hooks/useRoom\";\nimport ChatMessages from \"./ChatMessages\";\nimport ChatFooter from \"./ChatFooter\";\nimport MediaPreview from \"./MediaPreview\";\nimport Compressor from \"compressorjs\";\nimport {\n  Avatar,\n  CircularProgress,\n  IconButton,\n  Menu,\n  MenuItem,\n} from \"@material-ui/core\";\nimport { AddPhotoAlternate, ArrowBack, MoreVert } from \"@material-ui/icons\";\nimport { v4 as uuid } from \"uuid\";\nimport { audioStorage, createTimestamp, db, storage } from \"../firebase\";\nimport useChatMessages from \"../hooks/useChatMessages\";\n\nexport default function Chat({ user, page }) {\n  const [image, setImage] = React.useState(null);\n  const [input, setInput] = React.useState(\"\");\n  const [isDeleting, setDeleting] = React.useState(false);\n  const [openMenu, setOpenMenu] = React.useState(null);\n  const [src, setSrc] = React.useState(\"\");\n  const [audioId, setAudioId] = React.useState(\"\");\n\n  const { roomId } = useParams();\n  const history = useHistory();\n  const messages = useChatMessages(roomId);\n  const room = useRoom(roomId, user.uid);\n\n  function onChange(event) {\n    setInput(event.target.value);\n  }\n\n  async function sendMessage(event) {\n    event.preventDefault();\n\n    if (input.trim() || (input === \"\" && image)) {\n      setInput(\"\");\n      if (image) {\n        closePreview();\n      }\n      const imageName = uuid();\n      const newMessage = image\n        ? {\n            name: user.displayName,\n            message: input,\n            uid: user.uid,\n            timestamp: createTimestamp(),\n            time: new Date().toUTCString(),\n            imageUrl: \"uploading\",\n            imageName,\n          }\n        : {\n            name: user.displayName,\n            message: input,\n            uid: user.uid,\n            timestamp: createTimestamp(),\n            time: new Date().toUTCString(),\n          };\n\n      db.collection(\"users\")\n        .doc(user.uid)\n        .collection(\"chats\")\n        .doc(roomId)\n        .set({\n          name: room.name,\n          photoURL: room.photoURL || null,\n          timestamp: createTimestamp(),\n        });\n\n      const doc = await db\n        .collection(\"rooms\")\n        .doc(roomId)\n        .collection(\"messages\")\n        .add(newMessage);\n\n      if (image) {\n        new Compressor(image, {\n          quality: 0.8,\n          maxWidth: 1920,\n          async success(result) {\n            setSrc(\"\");\n            setImage(null);\n            await storage.child(imageName).put(result);\n            const url = await storage.child(imageName).getDownloadURL();\n            db.collection(\"rooms\")\n              .doc(roomId)\n              .collection(\"messages\")\n              .doc(doc.id)\n              .update({\n                imageUrl: url,\n              });\n          },\n        });\n      }\n    }\n  }\n\n  function showPreview(event) {\n    const file = event.target.files[0];\n\n    if (file) {\n      setImage(file);\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        setSrc(reader.result);\n      };\n    }\n  }\n\n  function closePreview() {\n    setSrc(\"\");\n    setImage(null);\n  }\n\n  async function deleteRoom() {\n    setOpenMenu(false);\n    setDeleting(true);\n\n    try {\n      const roomRef = db.collection(\"rooms\").doc(roomId);\n      const roomMessages = await roomRef.collection(\"messages\").get();\n      const audioFiles = [];\n      const imageFiles = [];\n      roomMessages.docs.forEach((doc) => {\n        if (doc.data().audioName) {\n          audioFiles.push(doc.data().audioName);\n        } else if (doc.data().imageName) {\n          imageFiles.push(doc.data().imageName);\n        }\n      });\n\n      await Promise.all([\n        ...roomMessages.docs.map((doc) => doc.ref.delete()),\n        ...imageFiles.map((image) => storage.child(image).delete()),\n        ...audioFiles.map((audio) => audioStorage.child(audio).delete()),\n        db\n          .collection(\"users\")\n          .doc(user.uid)\n          .collection(\"chats\")\n          .doc(roomId)\n          .delete(),\n        roomRef.delete(),\n      ]);\n    } catch (error) {\n      console.error(\"Error deleting room: \", error.message);\n    } finally {\n      setDeleting(false);\n      page.isMobile ? history.goBack() : history.replace(\"/chats\");\n    }\n  }\n\n  return (\n    <div className=\"chat\">\n      <div style={{ height: page.height }} className=\"chat__background\" />\n\n      <div className=\"chat__header\">\n        {page.isMobile && (\n          <IconButton onClick={history.goBack}>\n            <ArrowBack />\n          </IconButton>\n        )}\n\n        <div className=\"avatar__container\">\n          <Avatar src={room?.photoURL} />\n        </div>\n\n        <div className=\"chat__header--info\">\n          <h3 style={{ width: page.isMobile && page.width - 165 }}>\n            {room?.name}\n          </h3>\n        </div>\n\n        <div className=\"chat__header--right\">\n          <input\n            id=\"image\"\n            style={{ display: \"none\" }}\n            accept=\"image/*\"\n            type=\"file\"\n            onChange={showPreview}\n          />\n          <IconButton>\n            <label style={{ cursor: \"pointer\", height: 24 }} htmlFor=\"image\">\n              <AddPhotoAlternate />\n            </label>\n          </IconButton>\n          <IconButton onClick={(event) => setOpenMenu(event.currentTarget)}>\n            <MoreVert />\n          </IconButton>\n          <Menu\n            id=\"menu\"\n            anchorEl={openMenu}\n            open={Boolean(openMenu)}\n            onClose={() => setOpenMenu(null)}\n            keepMounted\n          >\n            <MenuItem onClick={deleteRoom}>Delete Room</MenuItem>\n          </Menu>\n        </div>\n      </div>\n\n      <div className=\"chat__body--container\">\n        <div className=\"chat__body\" style={{ height: page.height - 68 }}>\n          <ChatMessages\n            messages={messages}\n            user={user}\n            roomId={roomId}\n            audioId={audioId}\n            setAudioId={setAudioId}\n          />\n        </div>\n      </div>\n\n      <MediaPreview src={src} closePreview={closePreview} />\n\n      <ChatFooter\n        input={input}\n        onChange={onChange}\n        sendMessage={sendMessage}\n        image={image}\n        user={user}\n        room={room}\n        roomId={roomId}\n        setAudioId={setAudioId}\n      />\n\n      {isDeleting && (\n        <div className=\"chat__deleting\">\n          <CircularProgress />\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useCollection } from \"react-firebase-hooks/firestore\";\nimport { db } from \"../firebase\";\n\nexport default function useChatMessages(roomId) {\n  const [snapshot] = useCollection(\n    roomId\n      ? db\n          .collection(\"rooms\")\n          .doc(roomId)\n          .collection(\"messages\")\n          .orderBy(\"timestamp\", \"asc\")\n      : null\n  );\n\n  const messages = snapshot?.docs.map((doc) => ({\n    id: doc.id,\n    ...doc.data(),\n  }));\n\n  return messages;\n}\n","import { useDocument } from \"react-firebase-hooks/firestore\";\nimport { db } from \"../firebase\";\n\nexport default function useRoom(roomId, userId) {\n  const isUserRoom = roomId.includes(userId);\n\n  const doc = isUserRoom ? roomId?.replace(userId, \"\") : roomId;\n\n  const [snapshot] = useDocument(\n    db.collection(isUserRoom ? \"users\" : \"rooms\").doc(doc)\n  );\n\n  if (!snapshot) return null;\n\n  return {\n    id: snapshot.id,\n    photoURL:\n      snapshot.photoURL ||\n      `https://avatars.dicebear.com/api/human/${snapshot.id}.svg`,\n    ...snapshot.data(),\n  };\n}\n","import React from \"react\";\nimport \"./App.css\";\nimport Login from \"./components/Login\";\nimport Sidebar from \"./components/Sidebar\";\nimport Chat from \"./components/Chat\";\nimport useWindowSize from \"./hooks/useWindowSize\";\nimport useAuthUser from \"./hooks/useAuthUser\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport default function App() {\n  const page = useWindowSize();\n  const user = useAuthUser();\n\n  if (!user) {\n    return <Login />;\n  }\n\n  return (\n    <div className=\"app\" style={{ ...page }}>\n      <Redirect to={page.isMobile ? \"/chats\" : \"/\"} />\n      <div className=\"app__body\">\n        <Sidebar user={user} page={page} />\n        <Route path=\"/room/:roomId\">\n          <Chat user={user} page={page} />\n        </Route>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function useWindowSize() {\n  const [windowSize, setWindowSize] = React.useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  React.useEffect(() => {\n    function handleResize() {\n      if (window.innerHeight > 768 && window.innerWidth > 1366) {\n        const currentRatio = window.innerHeight / window.innerWidth;\n        const ratio = 768 / 1366;\n        if (ratio < currentRatio) {\n          setWindowSize({\n            width: 1366,\n            height: window.innerHeight * (1366 / window.innerWidth),\n            transform: `scale(${window.innerWidth / 1366})`,\n          });\n        } else if (ratio > currentRatio) {\n          setWindowSize({\n            width: window.innerWidth * (768 / window.innerHeight),\n            height: 768,\n            transform: `scale(${window.innerHeight / 768})`,\n          });\n        } else {\n          setWindowSize({\n            width: 1366,\n            height: 768,\n            transform: `scale(${window.innerHeight / 768})`,\n          });\n        }\n      }\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n        isMobile: window.innerWidth <= 760,\n        transform: `scale(1)`,\n      });\n    }\n    window.addEventListener(\"resize\", handleResize);\n\n    handleResize();\n\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n\n  return windowSize;\n}\n","import React from \"react\";\nimport { db, auth, createTimestamp } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\n\nexport default function useAuthUser() {\n  const [user] = useAuthState(auth);\n\n  React.useEffect(() => {\n    if (user) {\n      const ref = db.collection(\"users\").doc(user.uid);\n      ref.get().then((doc) => {\n        if (!doc.exists) {\n          ref.set({\n            name: user.displayName,\n            photoURL: user.photoURL,\n            timestamp: createTimestamp(),\n          });\n        }\n      });\n    }\n  }, [user]);\n\n  return user;\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}