(this["webpackJsonpwhatsapp-clone"]=this["webpackJsonpwhatsapp-clone"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(11),s=a.n(i),r=a(23),o=(a(77),a(124)),d=(a(78),a(38)),l=(a(79),a(102),a(103),a(81),d.a.initializeApp({apiKey:"AIzaSyDOg355c9o9a1CEIHfiCvcdXStSTowUJ3Q",authDomain:"whatsapp-clone-e704d.firebaseapp.com",projectId:"whatsapp-clone-e704d",storageBucket:"whatsapp-clone-e704d.appspot.com",messagingSenderId:"896859430912",appId:"1:896859430912:web:6d10b96bbcd6dad3eef8e5"})),u=l.firestore(),j=l.auth(),h=new d.a.auth.GoogleAuthProvider,m=d.a.storage().ref("images"),b=d.a.storage().ref("audios"),p=d.a.firestore.FieldValue.serverTimestamp,O=(d.a.database.ServerValue.TIMESTAMP,a(3));function f(){return Object(O.jsx)("div",{className:"app",children:Object(O.jsx)("div",{className:"login",children:Object(O.jsxs)("div",{className:"login__container",children:[Object(O.jsx)("img",{src:"./login-logo.png",alt:"Logo"}),Object(O.jsx)("div",{className:"login__text",children:Object(O.jsx)("h1",{children:"Sign in to WhatsApp"})}),Object(O.jsx)(o.a,{onClick:function(){j.signInWithRedirect(h)},children:"Sign in with Google"})]})})})}var v=a(16),x=a.n(v),g=a(37),w=a(29),_=a(8),N=a(149),y=a(130),C=a(131),R=a(128),S=a(132),k=a(133),I=a(134),U=a(135),E=a(127),L=a(129),M=a(33);function D(e){var t=e.item;return Object(O.jsx)(M.b,{className:"link",to:"/room/".concat(t.id),children:Object(O.jsxs)("div",{className:"sidebar__chat",children:[Object(O.jsx)("div",{className:"avatar__container",children:Object(O.jsx)(N.a,{style:{width:45,height:45},src:t.photoURL||"https://avatars.dicebear.com/api/human/".concat(t.id,".svg")})}),Object(O.jsx)("div",{className:"sidebar__chat--info",children:Object(O.jsx)("h2",{children:t.name})})]})})}a(93);function A(e){var t=e.title,a=e.data;return a?a.length||"Search Results"!==t?Object(O.jsxs)("div",{className:"sidebar__chat--container",children:[Object(O.jsx)("h2",{children:t}),a.map((function(e){return Object(O.jsx)(D,{item:e},e.id)}))]}):Object(O.jsxs)("div",{className:"no-result",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(R.a,{}),Object(O.jsx)("div",{className:"cancel-root",children:Object(O.jsx)(L.a,{})})]}),Object(O.jsxs)("h2",{children:["No ",t]})]}):Object(O.jsx)("div",{className:"loader__container sidebar__loader",children:Object(O.jsx)(E.a,{})})}a(94);var T=a(12),F=a(30);function P(e){var t,a=e.user,n=e.page,i=function(){var e=Object(F.a)(u.collection("rooms").orderBy("timestamp","desc")),t=Object(_.a)(e,1)[0];return null===t||void 0===t?void 0:t.docs.map((function(e){return Object(r.a)({id:e.id,userID:e.id},e.data())}))}(),s=function(e){var t=Object(F.a)(u.collection("users").orderBy("timestamp","desc")),a=Object(_.a)(t,1)[0],n=[];return e&&(null===a||void 0===a||a.docs.forEach((function(t){var a=t.id>e.uid?"".concat(t.id).concat(e.uid):"".concat(e.uid).concat(t.id);t.id!==e.uid&&n.push(Object(r.a)({id:a,userID:t.id},t.data()))}))),n}(a),o=function(e){var t=Object(F.a)(e?u.collection("users").doc(e.uid).collection("chats").orderBy("timestamp","desc"):null),a=Object(_.a)(t,1)[0];return null===a||void 0===a?void 0:a.docs.map((function(e){return Object(r.a)({id:e.id},e.data())}))}(a),d=c.a.useState([]),l=Object(_.a)(d,2),h=l[0],m=l[1],b=c.a.useState(1),f=Object(_.a)(b,2),v=f[0],E=f[1];function L(){return(L=Object(w.a)(x.a.mark((function e(t){var a,n,c,i,s,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.elements.search.value,e.next=4,u.collection("users").where("name","==",a).get();case 4:return n=e.sent,e.next=7,u.collection("rooms").where("name","==",a).get();case 7:c=e.sent,i=n.docs.map((function(e){return Object(r.a)({id:e.id},e.data())})),s=c.docs.map((function(e){return Object(r.a)({id:e.id},e.data())})),o=[].concat(Object(g.a)(i),Object(g.a)(s)),E(4),m(o);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return t=n.isMobile?M.c:function(e){return Object(O.jsx)("div",{className:"".concat(e.activeClass?"sidebar__menu--selected":""),onClick:e.onClick,children:e.children})},Object(O.jsxs)("div",{className:"sidebar",style:{minHeight:n.isMobile?n.height:"auto"},children:[Object(O.jsxs)("div",{className:"sidebar__header",children:[Object(O.jsxs)("div",{className:"sidebar__header--left",children:[Object(O.jsx)(N.a,{src:null===a||void 0===a?void 0:a.photoURL}),Object(O.jsx)("h4",{children:null===a||void 0===a?void 0:a.displayName})]}),Object(O.jsx)("div",{className:"sidebar__header--right",children:Object(O.jsx)(y.a,{onClick:function(){j.signOut()},children:Object(O.jsx)(C.a,{})})})]}),Object(O.jsx)("div",{className:"sidebar__search",children:Object(O.jsxs)("form",{onSubmit:function(e){return L.apply(this,arguments)},className:"sidebar__search--container",children:[Object(O.jsx)(R.a,{}),Object(O.jsx)("input",{placeholder:"Search for users or rooms",type:"text",id:"search"})]})}),Object(O.jsxs)("div",{className:"sidebar__menu",children:[Object(O.jsx)(t,{to:"/chats",activeClassName:"sidebar__menu--selected",onClick:function(){return E(1)},activeClass:1===v,children:Object(O.jsxs)("div",{className:"sidebar__menu--home",children:[Object(O.jsx)(S.a,{}),Object(O.jsx)("div",{className:"sidebar__menu--line"})]})}),Object(O.jsx)(t,{to:"/rooms",activeClassName:"sidebar__menu--selected",onClick:function(){return E(2)},activeClass:2===v,children:Object(O.jsxs)("div",{className:"sidebar__menu--rooms",children:[Object(O.jsx)(k.a,{}),Object(O.jsx)("div",{className:"sidebar__menu--line"})]})}),Object(O.jsx)(t,{to:"/users",activeClassName:"sidebar__menu--selected",onClick:function(){return E(3)},activeClass:3===v,children:Object(O.jsxs)("div",{className:"sidebar__menu--users",children:[Object(O.jsx)(I.a,{}),Object(O.jsx)("div",{className:"sidebar__menu--line"})]})})]}),n.isMobile?Object(O.jsxs)(T.d,{children:[Object(O.jsx)(T.b,{path:"/chats",children:Object(O.jsx)(A,{title:"Chats",data:o})}),Object(O.jsx)(T.b,{path:"/rooms",children:Object(O.jsx)(A,{title:"Rooms",data:i})}),Object(O.jsx)(T.b,{path:"/users",children:Object(O.jsx)(A,{title:"Users",data:s})}),Object(O.jsx)(T.b,{path:"/search",children:Object(O.jsx)(A,{title:"Search Results",data:h})})]}):1===v?Object(O.jsx)(A,{title:"Chats",data:o}):2===v?Object(O.jsx)(A,{title:"Rooms",data:i}):3===v?Object(O.jsx)(A,{title:"Users",data:s}):4===v?Object(O.jsx)(A,{title:"Search Results",data:h}):null,Object(O.jsx)("div",{className:"sidebar__chat--addRoom",children:Object(O.jsx)(y.a,{onClick:function(){var e=prompt("Type the name of your room");e.trim()&&u.collection("rooms").add({name:e,timestamp:p()})},children:Object(O.jsx)(U.a,{})})})]})}a(95);var W=a(136),B=a(137);a(96);function H(e){var t=e.sender,a=e.audioUrl,n=e.id,i=e.setAudioId,s=e.audioId,r=c.a.useState(!1),o=Object(_.a)(r,2),d=o[0],l=o[1],u=c.a.useState(!1),j=Object(_.a)(u,2),h=j[0],m=j[1],b=c.a.useState(!1),p=Object(_.a)(b,2),f=p[0],v=p[1],x=c.a.useState(!1),g=Object(_.a)(x,2),w=g[0],N=g[1],y=c.a.useState(0),C=Object(_.a)(y,2),R=C[0],S=C[1],k=c.a.useState(""),I=Object(_.a)(k,2),U=I[0],L=I[1],M=c.a.useRef(""),D=c.a.useRef(new Audio(a)),A=c.a.useRef(),T=c.a.useRef("uploading"===a);function F(e){var t=Math.floor(e/60),a=Math.floor(e-60*t);return t<10&&(t="0".concat(t)),a<10&&(a="0".concat(a)),"".concat(t,":").concat(a)}function P(){var e=D.current,t=e.currentTime,a=e.duration;if("number"===typeof a){S(t*(100/a));var n=F(t);L(n)}}return c.a.useEffect((function(){T.current&&"uploading"!==a?(D.current=new Audio(a),D.current.load(),v(!0)):!1===T.current&&v(!0)}),[a]),c.a.useEffect((function(){var e;f&&(e=D.current,new Promise((function(t){e.onloadedmetadata=function(){e.currentTime=Number.MAX_SAFE_INTEGER,e.ontimeupdate=function(){e.ontimeupdate=function(){},e.currentTime=.1,t(e.duration)}}}))).then((function(){N(!0)}))}),[f]),c.a.useEffect((function(){w&&(D.current.addEventListener("canplaythrough",(function(){if(!M.current){m(!0);var e=F(D.current.duration);M.current=e,L(M.current)}})),D.current.addEventListener("ended",(function(){clearInterval(A.current),L(M.current),S(0),l(!1)})))}),[w]),c.a.useEffect((function(){s!==n&&(D.current.pause(),l(!1))}),[s,n]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"audioplayer ".concat(t?"":"audioplayer__alt"),children:[h?d?Object(O.jsx)(W.a,{onClick:function(){D.current.pause(),clearInterval(A.current),l(!1),L(M.current)},className:"pause"}):d?null:Object(O.jsx)(B.a,{onClick:function(){l(!0),D.current.play(),s!==n&&i(n),A.current=setInterval(P,100)}}):Object(O.jsx)(E.a,{}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{style:{width:"".concat(R,"%")},className:"audioplayer__slider--played"}),Object(O.jsx)("input",{type:"range",min:"1",max:"100",value:R,onChange:function(e){var t=e.target.value,a=D.current.duration;if(h){var n=a*(t/100);D.current.currentTime=n,S(t)}},className:"audioplayer__slider"})]})]}),Object(O.jsx)("span",{className:"chat__timestamp audioplayer__time",children:U})]})}function z(e){var t=e.messages,a=e.user,n=e.roomId,c=e.audioId,i=e.setAudioId;return t?t.map((function(e){var t=e.uid===a.uid;return Object(O.jsxs)("div",{className:"chat__message ".concat(t?"chat__message--sender":""),children:[Object(O.jsx)("span",{className:"chat__name",children:e.name}),"uploading"===e.imageUrl?Object(O.jsx)("div",{className:"image-container",children:Object(O.jsx)("div",{className:"image__container--loader",children:Object(O.jsx)(E.a,{style:{width:40,height:40}})})}):e.imageUrl?Object(O.jsx)("div",{className:"image-container",children:Object(O.jsx)("img",{src:e.imageUrl,alt:e.name})}):null,e.audioName?Object(O.jsx)(H,{sender:t,roomId:n,id:e.id,audioUrl:e.audioUrl,audioId:c,setAudioId:i}):Object(O.jsx)("span",{className:"chat__message--message",children:e.message}),Object(O.jsx)("span",{className:"chat__timestamp",children:e.time})]},e.id)})):null}var G=a(138),J=a(139),K=a(140),V=a(141),X=a(147);a(97);function q(){return new Promise((function(e){navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){var a=new MediaRecorder(t),n=[];a.addEventListener("dataavailable",(function(e){n.push(e.data)})),e({start:function(){a.start()},stop:function(){return new Promise((function(e){a.addEventListener("stop",(function(){var t=Object(X.a)(),a=new File(n,t,{type:"audio/mpeg"}),c=URL.createObjectURL(a),i=new Audio(c);e({audioFile:a,audioUrl:c,play:function(){i.play()},audioName:t})})),a.stop()}))}})}))}))}function Q(e){var t=e.input,a=e.onChange,n=e.sendMessage,i=e.image,s=e.user,r=e.room,o=e.roomId,d=e.setAudioId,l=c.a.useState(!1),j=Object(_.a)(l,2),h=j[0],m=j[1],f=c.a.useState("00:00"),v=Object(_.a)(f,2),g=v[0],N=v[1],y=c.a.useRef(),C=c.a.useRef(),R=c.a.useRef(),S=c.a.useRef();function k(){return(k=Object(w.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,q();case 3:R.current=e.sent,S.current.focus(),S.current.style.width="calc(100% - 56px)",m(!0),d("");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return String(e).length<2?"0".concat(e):e}function U(){return E.apply(this,arguments)}function E(){return(E=Object(w.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.current.focus(),clearInterval(y.current),t=R.current.stop(),C.current.style.opacity="0",m(!1),S.current.style.width="calc(100% - 112px)",N("00:00"),e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(w.a)(x.a.mark((function e(){var t,a,n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:return t=e.sent,e.next=5,t;case 5:a=e.sent,n=a.audioFile,c=a.audioName,M(n,c);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return D.apply(this,arguments)}function D(){return(D=Object(w.a)(x.a.mark((function e(t,a){var n,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.collection("users").doc(s.uid).collection("chats").doc(o).set({name:r.name,photoURL:r.photoURL||null,timestamp:p()}),e.next=3,u.collection("rooms").doc(o).collection("messages").add({name:s.displayName,uid:s.uid,timestamp:p(),time:(new Date).toUTCString(),audioUrl:"uploading",audioName:a});case 3:return n=e.sent,e.next=6,b.child(a).put(t);case 6:return e.next=8,b.child(a).getDownloadURL();case 8:c=e.sent,u.collection("rooms").doc(o).collection("messages").doc(n.id).update({audioUrl:c});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.a.useEffect((function(){h&&(C.current.style.opacity="1",function(){var e=Date.now();function t(){var t=Date.now()-e,a=Math.floor(t/1e3),n=I(parseInt(a/60)),c=I(parseInt(a%60)),i="".concat(n,":").concat(c);N(i)}y.current=setInterval(t,100)}(),R.current.start())}),[h]);var A=Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(G.a,{style:{width:20,height:20,color:"white"}}),Object(O.jsx)(J.a,{style:{width:24,height:24,color:"white"}})]}),T=navigator.mediaDevices.getUserMedia&&window.MediaRecorder;return Object(O.jsxs)("div",{className:"chat__footer",children:[Object(O.jsxs)("form",{children:[Object(O.jsx)("input",{ref:S,value:t,onChange:h?null:a,onKeyPress:h?function(){return!1}:null,placeholder:"Type a message"}),T?Object(O.jsx)("button",{onClick:t.trim()||""===t&&i?n:function(e){return k.apply(this,arguments)},type:"submit",className:"send__btn",children:A}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("label",{htmlFor:"capture",className:"send__btn",children:A}),Object(O.jsx)("input",{style:{display:"none"},type:"file",id:"capture",accept:"audio/*",capture:!0,onChange:function(e){var t=e.target.files[0];t&&(d(""),M(t,Object(X.a)()))}})]})]}),h&&Object(O.jsxs)("div",{ref:C,className:"record",children:[Object(O.jsx)(K.a,{style:{width:30,height:30,color:"#f20519"},onClick:U}),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"record__redcircle"}),Object(O.jsx)("div",{className:"record__duration",children:g})]}),Object(O.jsx)(V.a,{style:{width:30,height:30,color:"#41bf49"},onClick:function(){return L.apply(this,arguments)}})]})]})}a(98);var Y=a(142);function Z(e){var t=e.src,a=e.closePreview;return t?Object(O.jsxs)("div",{className:"mediaPreview",children:[Object(O.jsx)(Y.a,{onClick:a}),Object(O.jsx)("img",{src:t,alt:"Preview"})]}):null}var $=a(67),ee=a.n($),te=a(146),ae=a(148),ne=a(143),ce=a(144),ie=a(145);function se(e){var t=e.user,a=e.page,n=c.a.useState(null),i=Object(_.a)(n,2),s=i[0],o=i[1],d=c.a.useState(""),l=Object(_.a)(d,2),j=l[0],h=l[1],f=c.a.useState(!1),v=Object(_.a)(f,2),C=v[0],R=v[1],S=c.a.useState(null),k=Object(_.a)(S,2),I=k[0],U=k[1],L=c.a.useState(""),M=Object(_.a)(L,2),D=M[0],A=M[1],P=c.a.useState(""),W=Object(_.a)(P,2),B=W[0],H=W[1],G=Object(T.h)().roomId,J=Object(T.g)(),K=function(e){var t=Object(F.a)(e?u.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc"):null),a=Object(_.a)(t,1)[0];return null===a||void 0===a?void 0:a.docs.map((function(e){return Object(r.a)({id:e.id},e.data())}))}(G),V=function(e,t){var a=e.includes(t),n=a?null===e||void 0===e?void 0:e.replace(t,""):e,c=Object(F.b)(u.collection(a?"users":"rooms").doc(n)),i=Object(_.a)(c,1)[0];return i?Object(r.a)({id:i.id,photoURL:i.photoURL||"https://avatars.dicebear.com/api/human/".concat(i.id,".svg")},i.data()):null}(G,t.uid);function q(){return(q=Object(w.a)(x.a.mark((function e(a){var n,c,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(j.trim()||""===j&&s)){e.next=11;break}return h(""),s&&Y(),n=Object(X.a)(),c=s?{name:t.displayName,message:j,uid:t.uid,timestamp:p(),time:(new Date).toUTCString(),imageUrl:"uploading",imageName:n}:{name:t.displayName,message:j,uid:t.uid,timestamp:p(),time:(new Date).toUTCString()},u.collection("users").doc(t.uid).collection("chats").doc(G).set({name:V.name,photoURL:V.photoURL||null,timestamp:p()}),e.next=9,u.collection("rooms").doc(G).collection("messages").add(c);case 9:i=e.sent,s&&new ee.a(s,{quality:.8,maxWidth:1920,success:function(e){return Object(w.a)(x.a.mark((function t(){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(""),o(null),t.next=4,m.child(n).put(e);case 4:return t.next=6,m.child(n).getDownloadURL();case 6:a=t.sent,u.collection("rooms").doc(G).collection("messages").doc(i.id).update({imageUrl:a});case 8:case"end":return t.stop()}}),t)})))()}});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){A(""),o(null)}function $(){return($=Object(w.a)(x.a.mark((function e(){var n,c,i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!1),R(!0),e.prev=2,n=u.collection("rooms").doc(G),e.next=6,n.collection("messages").get();case 6:return c=e.sent,i=[],s=[],c.docs.forEach((function(e){e.data().audioName?i.push(e.data().audioName):e.data().imageName&&s.push(e.data().imageName)})),e.next=12,Promise.all([].concat(Object(g.a)(c.docs.map((function(e){return e.ref.delete()}))),Object(g.a)(s.map((function(e){return m.child(e).delete()}))),Object(g.a)(i.map((function(e){return b.child(e).delete()}))),[u.collection("users").doc(t.uid).collection("chats").doc(G).delete(),n.delete()]));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Error deleting room: ",e.t0.message);case 17:return e.prev=17,R(!1),a.isMobile?J.goBack():J.replace("/chats"),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,21]])})))).apply(this,arguments)}return Object(O.jsxs)("div",{className:"chat",children:[Object(O.jsx)("div",{style:{height:a.height},className:"chat__background"}),Object(O.jsxs)("div",{className:"chat__header",children:[a.isMobile&&Object(O.jsx)(y.a,{onClick:J.goBack,children:Object(O.jsx)(ne.a,{})}),Object(O.jsx)("div",{className:"avatar__container",children:Object(O.jsx)(N.a,{src:null===V||void 0===V?void 0:V.photoURL})}),Object(O.jsx)("div",{className:"chat__header--info",children:Object(O.jsx)("h3",{style:{width:a.isMobile&&a.width-165},children:null===V||void 0===V?void 0:V.name})}),Object(O.jsxs)("div",{className:"chat__header--right",children:[Object(O.jsx)("input",{id:"image",style:{display:"none"},accept:"image/*",type:"file",onChange:function(e){var t=e.target.files[0];if(t){o(t);var a=new FileReader;a.readAsDataURL(t),a.onload=function(){A(a.result)}}}}),Object(O.jsx)(y.a,{children:Object(O.jsx)("label",{style:{cursor:"pointer",height:24},htmlFor:"image",children:Object(O.jsx)(ce.a,{})})}),Object(O.jsx)(y.a,{onClick:function(e){return U(e.currentTarget)},children:Object(O.jsx)(ie.a,{})}),Object(O.jsx)(te.a,{id:"menu",anchorEl:I,open:Boolean(I),onClose:function(){return U(null)},keepMounted:!0,children:Object(O.jsx)(ae.a,{onClick:function(){return $.apply(this,arguments)},children:"Delete Room"})})]})]}),Object(O.jsx)("div",{className:"chat__body--container",children:Object(O.jsx)("div",{className:"chat__body",style:{height:a.height-68},children:Object(O.jsx)(z,{messages:K,user:t,roomId:G,audioId:B,setAudioId:H})})}),Object(O.jsx)(Z,{src:D,closePreview:Y}),Object(O.jsx)(Q,{input:j,onChange:function(e){h(e.target.value)},sendMessage:function(e){return q.apply(this,arguments)},image:s,user:t,room:V,roomId:G,setAudioId:H}),C&&Object(O.jsx)("div",{className:"chat__deleting",children:Object(O.jsx)(E.a,{})})]})}var re=a(68);function oe(){var e=function(){var e=c.a.useState({width:void 0,height:void 0}),t=Object(_.a)(e,2),a=t[0],n=t[1];return c.a.useEffect((function(){function e(){if(window.innerHeight>768&&window.innerWidth>1366){var e=window.innerHeight/window.innerWidth,t=768/1366;n(t<e?{width:1366,height:window.innerHeight*(1366/window.innerWidth),transform:"scale(".concat(window.innerWidth/1366,")")}:t>e?{width:window.innerWidth*(768/window.innerHeight),height:768,transform:"scale(".concat(window.innerHeight/768,")")}:{width:1366,height:768,transform:"scale(".concat(window.innerHeight/768,")")})}n({width:window.innerWidth,height:window.innerHeight,isMobile:window.innerWidth<=760,transform:"scale(1)"})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}(),t=function(){var e=Object(re.a)(j),t=Object(_.a)(e,1)[0];return c.a.useEffect((function(){if(t){var e=u.collection("users").doc(t.uid);e.get().then((function(a){a.exists||e.set({name:t.displayName,photoURL:t.photoURL,timestamp:p()})}))}}),[t]),t}();return t?Object(O.jsxs)("div",{className:"app",style:Object(r.a)({},e),children:[Object(O.jsx)(T.a,{to:e.isMobile?"/chats":"/"}),Object(O.jsxs)("div",{className:"app__body",children:[Object(O.jsx)(P,{user:t,page:e}),Object(O.jsx)(T.b,{path:"/room/:roomId",children:Object(O.jsx)(se,{user:t,page:e})})]})]}):Object(O.jsx)(f,{})}a(100);s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(M.a,{children:Object(O.jsx)(oe,{})})}),document.getElementById("root"))},77:function(e,t,a){},78:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[101,1,2]]]);
//# sourceMappingURL=main.5f9d07bf.chunk.js.map